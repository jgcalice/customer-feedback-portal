// openclaw-config.json5
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Tech Team Senior â€” Multi-Agent Development Configuration
// 9 agentes: tech-lead (orquestrador), backend, frontend, mobile,
//            architect, qa, devops, designer, pm
//
// Uso: copie para ~/.openclaw/openclaw.json ou referencie via CLI
// Docs: https://docs.openclaw.ai/gateway/configuration-reference
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{
  // â”€â”€â”€ Defaults Compartilhados â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Aplicados a todos os agentes que nÃ£o sobrescrevem explicitamente.
  agents: {
    defaults: {
      model: {
        primary: "anthropic/claude-sonnet-4-5",
        fallbacks: ["anthropic/claude-haiku-4-5"],
      },
      thinkingDefault: "low",
      contextTokens: 200000,
      maxConcurrent: 2,
    },

    // â”€â”€â”€ Roster de Agentes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    list: [

      // â”€â”€ Tech Lead (Orquestrador / Default) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // Gerencia e distribui demandas entre todos os agentes.
      // Usa opus para mÃ¡xima capacidade de raciocÃ­nio e coordenaÃ§Ã£o.
      {
        id: "tech-lead",
        default: true,
        workspace: "./agents/tech-lead",
        agentDir: "./agents/tech-lead/agent",
        model: {
          primary: "anthropic/claude-opus-4-6",
          fallbacks: ["anthropic/claude-sonnet-4-5"],
        },
        identity: {
          name: "Tech Lead",
          theme: "senior tech coordinator â€” qualidade, velocidade e visibilidade",
          emoji: "ğŸ¯",
        },
        tools: {
          profile: "coding",
        },
        subagents: {
          allowAgents: [
            "backend", "frontend", "mobile", "architect",
            "qa", "devops", "designer", "pm",
          ],
        },
      },

      // â”€â”€ Backend Developer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // Sistemas distribuÃ­dos, APIs, bancos, eventos, K8s, seguranÃ§a.
      {
        id: "backend",
        workspace: "./agents/backend",
        agentDir: "./agents/backend/agent",
        identity: {
          name: "Backend Dev",
          theme: "distributed systems & API engineer",
          emoji: "âš™ï¸",
        },
        tools: {
          profile: "coding",
        },
        subagents: { allowAgents: [] },
      },

      // â”€â”€ Frontend Developer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // UI/UX engineering, design systems, acessibilidade, performance.
      {
        id: "frontend",
        workspace: "./agents/frontend",
        agentDir: "./agents/frontend/agent",
        identity: {
          name: "Frontend Dev",
          theme: "UI/UX engineer â€” performance, acessibilidade, design systems",
          emoji: "ğŸ–¥ï¸",
        },
        tools: {
          profile: "coding",
        },
        subagents: { allowAgents: [] },
      },

      // â”€â”€ Mobile Developer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // Cross-platform, native, performance mobile.
      {
        id: "mobile",
        workspace: "./agents/mobile",
        agentDir: "./agents/mobile/agent",
        identity: {
          name: "Mobile Dev",
          theme: "cross-platform mobile engineer",
          emoji: "ğŸ“±",
        },
        tools: {
          profile: "coding",
        },
        subagents: { allowAgents: [] },
      },

      // â”€â”€ Solutions Architect â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // Arquitetura, trade-offs, ADRs, escalabilidade, FinOps.
      {
        id: "architect",
        workspace: "./agents/architect",
        agentDir: "./agents/architect/agent",
        identity: {
          name: "Architect",
          theme: "solutions architect â€” trade-offs, escalabilidade, design de sistemas",
          emoji: "ğŸ—ï¸",
        },
        tools: {
          profile: "coding",
        },
        subagents: { allowAgents: [] },
      },

      // â”€â”€ QA Engineer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // Testing trophy, automaÃ§Ã£o, performance, acessibilidade, contratos.
      {
        id: "qa",
        workspace: "./agents/qa",
        agentDir: "./agents/qa/agent",
        identity: {
          name: "QA Engineer",
          theme: "quality assurance â€” test automation, risk-based testing",
          emoji: "ğŸ§ª",
        },
        tools: {
          profile: "coding",
        },
        subagents: { allowAgents: [] },
      },

      // â”€â”€ DevOps Engineer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // CI/CD, IaC, observabilidade, SRE, plataforma interna.
      {
        id: "devops",
        workspace: "./agents/devops",
        agentDir: "./agents/devops/agent",
        identity: {
          name: "DevOps",
          theme: "infrastructure & delivery pipeline engineer",
          emoji: "ğŸš€",
        },
        tools: {
          profile: "coding",
        },
        subagents: { allowAgents: [] },
      },

      // â”€â”€ Designer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // Product design, interaction design, information architecture.
      // Perfil minimal: trabalha com documentos e imagens, nÃ£o executa cÃ³digo.
      {
        id: "designer",
        workspace: "./agents/designer",
        agentDir: "./agents/designer/agent",
        identity: {
          name: "Designer",
          theme: "senior product designer â€” user-centric, behavior-driven",
          emoji: "ğŸ¨",
        },
        tools: {
          profile: "minimal",
          allow: ["read", "write", "edit"],
        },
        subagents: { allowAgents: [] },
      },

      // â”€â”€ Product Manager â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // Outcomes-first, discovery + delivery, PRDs, priorizaÃ§Ã£o.
      // Perfil minimal: trabalha com documentos, nÃ£o executa cÃ³digo.
      {
        id: "pm",
        workspace: "./agents/pm",
        agentDir: "./agents/pm/agent",
        identity: {
          name: "Product Manager",
          theme: "outcomes-first product strategist â€” discovery, delivery, decisÃ£o",
          emoji: "ğŸ“Š",
        },
        tools: {
          profile: "minimal",
          allow: ["read", "write", "edit"],
        },
        subagents: { allowAgents: [] },
      },
    ],
  },

  // â”€â”€â”€ ComunicaÃ§Ã£o Inter-Agentes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Habilita troca de mensagens entre agentes. O tech-lead orquestra;
  // os demais se comunicam conforme protocolos definidos em AGENTS.md.
  //
  // Grafo de comunicaÃ§Ã£o (least-privilege):
  //   tech-lead â†” todos (orquestrador)
  //   backend   â†” frontend, architect, qa, devops
  //   frontend  â†” backend, designer, qa
  //   mobile    â†” backend, designer, qa
  //   architect â†” backend, frontend, mobile, devops, pm
  //   qa        â†” backend, frontend, mobile, pm
  //   devops    â†” backend, architect
  //   designer  â†” frontend, mobile, pm
  //   pm        â†” designer, architect, qa
  tools: {
    agentToAgent: {
      enabled: true,
      allow: [
        "tech-lead", "backend", "frontend", "mobile",
        "architect", "qa", "devops", "designer", "pm",
      ],
    },
    loopDetection: {
      enabled: true,
      historySize: 30,
      warningThreshold: 10,
      criticalThreshold: 20,
    },
  },

  // â”€â”€â”€ SessÃµes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  session: {
    reset: {
      mode: "idle",
      idleMinutes: 240, // reset apÃ³s 4h de inatividade
    },

    // DiretÃ³rio de tarefas por agente. Cada agente cria/gerencia
    // tasks/todo.md (plano e progresso) e tasks/lessons.md (padrÃµes
    // aprendidos com correÃ§Ãµes do usuÃ¡rio) no seu workspace.
    taskTracking: {
      enabled: true,
      dir: "tasks",           // relativo ao workspace do agente
      files: {
        todo: "todo.md",      // plano e progresso da sessÃ£o
        lessons: "lessons.md", // padrÃµes aprendidos com correÃ§Ãµes
      },
      createOnFirstUse: true, // agente cria o diretÃ³rio se nÃ£o existir
    },

    // InstruÃ§Ãµes de inÃ­cio de sessÃ£o para todos os agentes.
    // Complementa o "Toda SessÃ£o" de cada AGENTS.md.
    onStart: {
      readFiles: [
        "tasks/lessons.md", // self-improvement loop
      ],
    },
  },

  // â”€â”€â”€ Bindings (futuro â€” integraÃ§Ã£o com canais de mensagem) â”€â”€â”€â”€â”€â”€
  // Descomente e customize quando conectar a plataformas externas.
  // O tech-lead Ã© o agente default; os demais sÃ£o acessados via
  // agent-to-agent ou invocaÃ§Ã£o direta por CLI.
  //
  // Exemplos:
  //
  // bindings: [
  //   // Todas as mensagens WhatsApp vÃ£o para o tech-lead
  //   {
  //     agentId: "tech-lead",
  //     match: { channel: "whatsapp", accountId: "*" },
  //   },
  //
  //   // Canal #product no Slack vai direto para o PM
  //   {
  //     agentId: "pm",
  //     match: {
  //       channel: "slack",
  //       peer: { kind: "channel", id: "#product" },
  //     },
  //   },
  //
  //   // Canal #engineering no Slack vai para o tech-lead
  //   {
  //     agentId: "tech-lead",
  //     match: {
  //       channel: "slack",
  //       peer: { kind: "channel", id: "#engineering" },
  //     },
  //   },
  //
  //   // Canal #design no Slack vai para o designer
  //   {
  //     agentId: "designer",
  //     match: {
  //       channel: "slack",
  //       peer: { kind: "channel", id: "#design" },
  //     },
  //   },
  //
  //   // DM direto no Discord vai para o tech-lead (fallback)
  //   {
  //     agentId: "tech-lead",
  //     match: { channel: "discord" },
  //   },
  // ],
}
